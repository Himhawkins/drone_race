<launch>

    <!-- Launch Firefly with vi camera and MSF-->
    <include file="$(find gazebo_assets_drone_race)/launch/test_rotors_msf_camera.launch"/>

    <!-- Planner node -->
    <node pkg="spline_planner" type="spline_planner.py" name="spline_planner" output="screen" required="true"/>
    <!-- trajectory visualization topic publisher -->
    <node pkg="spline_planner" type="trajectory_visualizer.py" name="traj_viz" output="screen" required="true">
      <remap from="~trajectory" to="/firefly/command/trajectory"/>
      <remap from="~odometry" to="/firefly/odometry_sensor1/odometry" />
    </node>

    <!-- GT Gate pose publisher node -->
    <include file="$(find drone_map_builder)/launch/publish_ground_truth_gates.launch"/>
    <!-- ego trajectory publisher -->
    <node pkg="drone_map_builder" type="gt_ego_position.py" name="gt_ego_position" output="screen"/>

    <!-- rviz node -->
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find drone_map_builder)/configs/solution.rviz" required="true"/>


</launch>
